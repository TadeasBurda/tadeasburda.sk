@model ImagesConvertorViewModel
@{
    ViewData["title"] = "Online konvertor obrázkov";
    ViewData["description"] = "Stránka pre konvertovanie formátu, zmenu pomeru strán a orezanie obrázku.";
}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb mx-1">
        <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Domov</a></li>
        <li class="breadcrumb-item active" aria-current="page">Nástroje</li>
        <li class="breadcrumb-item active" aria-current="page">Konvertor obrázkov</li>
    </ol>
</nav>
<div class="container">
    <h1># Konvertor obrázkov</h1>
    <hr />
    @* tool *@
    <section class="bg-light p-2">
        @* section for upload file *@
        <section class="mb-5">
            <h3>1. Vyber obrázok</h3>
            <p>Nahraj obrázok ktorý chceš konvertovať do WebP. Obrázok by mal byť v čo najväčšej kvalite a <strong>podporované formáty</strong> zatiaľ sú <strong>PNG, JPG</strong>.</p>
            <form class="row justify-content-center" enctype="multipart/form-data" method="post" asp-action="ImagesConvertor">
                <div class="col-12 col-sm-6">
                    @* inout for upload file *@
                    <div class="mb-3">
                        <div class="input-group">
                            <input class="form-control" aria-describedby="btnAddon" asp-for="UploadFile">
                            <button class="btn btn-dark" type="submit" id="btnAddon">Nahrať</button>
                        </div>
                        <span class="text-danger form-text" asp-validation-for="UploadFile"></span>
                    </div>
                    @if (Model.UploadFile == null)
                    {
                        @* upload image view *@
                        <picture>
                            <source media="(max-width:575px)" srcset="" type="image/webp" />
                            <source media="(max-width:767px)" srcset="" type="image/webp" />
                            <source media="(max-width:991px)" srcset="" type="image/webp" />
                            <source media="(max-width:1199px)" srcset="" type="image/webp" />
                            <source media="(max-width:1399px)" srcset="" type="image/webp" />
                            <img class="img-fluid" src="~/img/default-placeholder.png" alt="default placeholder" asp-append-version="true">
                        </picture>
                    }
                    else
                    {
                        <div class="text-center">
                            <img class="img-fluid" src="@($"~/temporary-files/{Model.UploadFile.FileName}")" alt="uploaded image" asp-append-version="true">
                        </div>
                    }
                </div>
            </form>
        </section>
        @* secion for width inputs *@
        <section class="table-responsive mb-5">
            <h3>2. Zadaj požadované rozmery</h3>
            <p>Do tabuľky <strong>zadaj rozmer</strong> pre šírku obrázku. Stiahnuť môžeš každý obrázok zvlášť alebo môžeš stiahnuť všetky hromadne. <strong>Nový riadok</strong> pridáš tlačítkom v rohu hlavičky tabuľky. </p>
            <table class="table table-bordered">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Šírka</th>
                        <th scope="col" style="width:120px"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">1</th>
                        <td>
                            <input class="form-control" type="number" min="1" style="max-width:100px" />
                        </td>
                        <td>
                            <button class="btn btn-primary btn-sm mx-1" type="button" onclick="addRow(this)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrows-expand" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13A.5.5 0 0 1 1 8zM7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10z" />
                                </svg>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        @* section for bulk download*@
        <section>
            <h3>3. Stiahnuť hromadne</h3>
            <div class="text-center">
                <button class="btn btn-success" @(Model.UploadFile == null ? "disabled" : string.Empty) type="button" onclick="covertAndDownload('@Model.UploadFile?.FileName')">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-cloud-arrow-down-fill" viewBox="0 0 16 16">
                        <path d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 6.854l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708z" />
                    </svg>
                </button>
            </div>
        </section>
    </section>
    <hr />
    @* description *@
    <section class="bg-light p-2">
    </section>
</div>
@section Scripts{
    <environment include="Development">
        <script src="~/js/ToolsController/ImagesConvertor/site.js" asp-append-version="true"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/js/ToolsController/ImagesConvertor/site.min.js" asp-append-version="true"></script>
    </environment>
}
